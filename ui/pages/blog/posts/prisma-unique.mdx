---
title: "A @unique gotcha with Prisma and MongoDB"
tags: ["typescript", "prisma", "db"]
image: "/img/posts/umbrella.jpg"
---

import Post from "../../../components/blog/Post";
import PostReference from "../../../components/blog/PostReference";

<Post backgroundImage="umbrella.jpg" title="A @unique gotcha with Prisma and MongoDB" author="Matthew C Wake">

Prisma allows you to specify that a field must be unique, like below:

```
model User {
    ...
    email   String  @unique
    ...
}
```

However, Prisma itself doesn't enforce this constraint, the database does. To do this, it is critical that you run the following command:

```
prisma db push
```

This instructs Prisma to create an index on the table or collection, and means that unique constraints will actually be enforced.

<PostReference
  title="Prisma on Github"
  href="https://github.com/prisma/prisma/issues/6727"
/>

<PostReference
  title="Photo by Noah NÃ¤f"
  href="https://unsplash.com/s/photos/unique?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"
/>

</Post>
